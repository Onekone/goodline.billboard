<p align="center"><img src="https://laravel.com/assets/img/components/logo-laravel.svg"></p>

<p align="center">

</p>

## О проекте
Типа.Билборд - учебный проект размещения объявлений, разработанный в рамках проекта "Быстрый старт PHP" командой Алексея Сенчурина ([github](https://github.com/Onekone)) и Эдуарда Ситдыкова ([github](https://github.com/edikskrim)).

## Установка

- Склонируйте данный репризиторий в папку хоста вашего сервера (обычно /var/www/) командой ```git clone``` и выполните команду ```composer install```. Это установит необходимые компоненты приложения и выполнит предварительную настройку.
- Сгенерируйте новый ключ приложения с помощью команды ```php artisan key:generate```
- Создайте и заполните файл настроек ```.env```. В комплекте с приложением поставляется файл ```.env.example```, который можно использовать как образец
- Выполните миграцию моделей в базу данных используя команду ```php artisan migrate```

## Настройка приложения 

Заполните ```.env.example```, поставляемый в составе приложения в следующих местах.

- База данных
```
DB_CONNECTION= -- тип базы данных --
DB_HOST= -- адрес базы данных --
DB_PORT= -- порт --
DB_DATABASE= -- база --
DB_USERNAME= -- пользователь --
DB_PASSWORD= -- пароль --
```
По умолчанию это приложение поддерживает работу со следующими базами данных
 - MySQL (```mysql```)
 - Microsoft SQL Server (```sqlsrv```)
 - PostgreSQL (```pgsql```)
 - SQLite (```sqlite```)

База данных, указанная в этих настройках должна быть *уже* создана и доступна для представленных данных авторизации

- Полнотекстовый поиск

Полнотекстовый поиск использует Sphinx в качестве поискового механизма. После миграции проведите индексацию базы данных.
Дополнительную информацию о настройке Sphinx можно получить из [документации Sphinx Search](http://sphinxsearch.com/docs/) и плагина [sngrl/sphinxsearch](https://github.com/sngrl/sphinxsearch)

Файл .env
```
SPHINX_HOST= -- адрес сервера Sphinx--
SPHINX_PORTSPHINX  = --порт протокола sphinx (def. 9312)--
SPHINX_PORTMYSQL41 = --порт протокола mysql41 (def. 9306)--
```

Если вы хостите сервер Sphinx Search самостоятельно, вы можете использовать прилагаемый файл конфигурации
```
  sql_host      = -- адрес базы данных SQL --
  sql_user      = -- пользователь БД --
  sql_pass      = -- пароль от БД --
  sql_db        = -- используемая база данных (def. 3306)--
  sql_port      = -- порт --
```
 
- Сервер электронной почты
```
MAIL_HOST= -- адрес до smtp сервера электронной почты --
MAIL_PORT= -- порт --
MAIL_USERNAME= -- имя пользователя --
MAIL_PASSWORD= -- пароль --
 ```
Электронная почта отправляется через протокол ```smtp```. Чтобы узнать, какие данные необходимо вводить, сверьтесь с настройками вашего сервера исходящей электронной почты.

- Авторизация ВКонтакте

Для того, чтобы подключить авторизацию через сервис [ВКонтакте](http://vk.com), вам необходимо иметь уже настроенное приложение. Приложения в ВКонтакте можно создать на [сайте разработчиков](http://vk.com/dev), в разделе [Мои приложения](https://vk.com/apps?act=manage).

```
VKONTAKTE_KEY= -- ID приложения ВКонтакте --
VKONTAKTE_SECRET= -- Защищённый ключ ВКонтакте --
VKONTAKTE_REDIRECT_URI= -- Доверенный redirect URI --
```  

Команда ```php artisan cache:clear``` выполняет пересчитывание данных настроек

- Назначение модератора

Назначение модератора происходит с помощью команды:

```php artisan moderator:assign```

В поле ввода нужно вести email пользователя, который будет назначен модератором.
```
Email:
    > 
```
Удаление модератора происходит аналогично с помощью команды:

```php artisan moderator:delete```

В поле ввода нужно вести email пользователя, который будет удален из модераторов.